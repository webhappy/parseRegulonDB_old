getwd()
data=read.csv('fitnessVsDist.csv')
View(data)
plot(data[,3],data[,2])
colnames(data) <- c('gene','position','effect')
View(data)
View(data)
plot(data$position,data$effect)
plot(log(data$position),data$effect)
library(ggplot2)
ggplot(data,aes(x=position,y=effect,shape=gene,color=gene))
ggplot(data,aes(x=position,y=effect,shape=gene,color=gene))+geom_point(size=5)
ggplot(data,aes(x=log(position),y=effect,shape=gene,color=gene))+geom_point(size=5)
ggplot(data,aes(x=log(position),y=effect,color=gene))+geom_point(size=5)
ggplot(data,aes(x=log(position),y=effect,color=gene))+geom_line()
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()
data=read.csv('fitnessVsDist.csv')
colnames(data) <- c('gene','position','effect')
ggplot(data,aes(x=log(position),y=effect,color=gene))+geom_point(size=5)
ggplot(data,aes(x=log(position+1),y=effect,color=gene))+geom_point(size=5)
ggplot(data,aes(x=log(position+5),y=effect,color=gene))+geom_point(size=5)
summary(data$position)
ggplot(data,aes(x=log(position+5),y=effect,color=gene))+lines()
ggplot(data,aes(x=log(position+5),y=effect,color=gene))+geom_line()
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()
coord_cartesian(xlim = c(-20, 500))
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()
xlim(-20,500)
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()
ggplot(data,aes(x=position,y=effect,color=gene),xlim(-20,500))+geom_line()
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()+xlim(-20,500)
data=read.csv('fitnessVsDist.csv')
colnames(data) <- c('gene','position','effect')
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()+xlim(-20,500)
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()+xlim(-20,100)
View(data)
fit <- lm(effect~position+gene,data=data)
summary(fit)
fit
hist(fit)
hist(coeff(fit))
coefficients(fit)
hist(coefficients(fit))
boxplot(coefficients(fit))
fits=read.csv('fittingPerGene.csv')
colnames(fits) <- c('gene','intercept','slope')
View(fits)
View(fits)
hist(fits$slope)
View(fits)
fits=read.csv('fittingPerGene.csv')
colnames(fits) <- c('gene','intercept','slope')
hist(fits$slope)
View(fits)
plot(data$position,data$effect)
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()+xlim(-20,100)
hist(fits$slope)
library(ggplot2)
data=read.csv('fitnessVsDist.csv')
colnames(data) <- c('gene','position','effect')
plot(data$position,data$effect)
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()+xlim(-20,100)
hist(data$gene)
data$gene
summary(data$gene)
table(data$gene)
factor(table(data$gene))
hist(factor(table(data$gene)))
plot(factor(table(data$gene)))
summary(factor(table(data$gene)))
library(ggplot2)
data=read.csv('fitnessVsDist.csv')
colnames(data) <- c('gene','position','effect')
plot(data$position,data$effect)
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()+xlim(-20,100)
fits=read.csv('fittingPerGene.csv')
colnames(fits) <- c('gene','intercept','slope')
hist(fits$slope)
hist(fits$slope,xlim=c(-.08,.04))
hist(fits$slope,breaks=10,xlim=c(-.08,.04))
hist(fits$slope,breaks=20,xlim=c(-.08,.04))
hist(fits$slope,breaks=20,xlim=c(-.08,.04),main="Slopes of linear fit for each gene of effect vs distance from ATG")
plot(data$position,data$effect)
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()+xlim(-20,100)
library('RMySQL')
library('reshape')
library('plyr')
con <- dbConnect(MySQL(), dbname='t')
genes <- dbReadTable(con,'GENE')
first=genes[genes$operon_pos==1,]
#hist(first)
essentialFirst<-first[first$avg_lr < -3 & !is.na(first$avg_lr),]
hist(genes$avg_lr)
hist(genes$avg_lr,main="Finding cutoff to define essential genes",xlab="Average fitness effect of all sgRNA/replicates for each gene")
clear()
rm(list=ls())
library(ggplot2)
data=read.csv('fitnessVsDist.csv')
colnames(data) <- c('gene','position','effect')
fits=read.csv('fittingPerGene.csv')
plot(factor(table(data$gene)))
plot(factor(table(data$gene)),xlab="# of sgRNAs in this gene",ylab="# of genes")
rm(list=ls())
library('RMySQL')
library('reshape')
library('plyr')
con <- dbConnect(MySQL(), dbname='t')
genes <- dbReadTable(con,'GENE')
first=genes[genes$operon_pos==1,]
hist(genes$avg_lr,main="Finding cutoff to define essential genes",xlab="Average fitness effect of all sgRNA/replicates for each gene")
essentialFirst<-first[first$avg_lr < -3 & !is.na(first$avg_lr),]
data=read.csv('fitnessVsDist.csv')
colnames(data) <- c('gene','position','effect')
plot(data$position,data$effect)
plot(factor(table(data$gene)),xlab="# of sgRNAs in this gene",ylab="# of genes")
fits=read.csv('fittingPerGene.csv')
data=read.csv('fitnessVsDist.csv')
colnames(data) <- c('gene','position','effect')
View(data)
library(ggplot2)
data=read.csv('fitnessVsDist.csv',header=FALSE)
colnames(data) <- c('gene','position','effect')
plot(data$position,data$effect)
ggplot(data,aes(x=position,y=effect,color=gene))+geom_line()+xlim(-20,100)
plot(factor(table(data$gene)),xlab="# of sgRNAs in this gene",ylab="# of genes")
fits=read.csv('fittingPerGene.csv',header=FALSE)
colnames(fits) <- c('gene','intercept','slope')
hist(fits$slope,breaks=20,xlim=c(-.08,.04),main="Slopes of linear fit for each gene of effect vs distance from ATG")
plot(factor(table(data$gene)),xlab="# of sgRNAs in this gene",ylab="# of genes")
hist(fits$slope,breaks=20,xlim=c(-.08,.04),main="Slopes of linear fit for each gene of effect vs distance from ATG")
library(ggplot2)
data=read.csv('fitnessVsDist.csv',header=FALSE)
colnames(data) <- c('gene','position','effect')
plot(data$position,data$effect)
fits=read.csv('fittingPerGene.csv',header=FALSE)
colnames(fits) <- c('gene','intercept','slope')
hist(fits$slope,breaks=20,xlim=c(-.08,.04),main="Slopes of linear fit for each gene of effect vs distance from ATG")
hist(fits$slope,breaks=20,xlim=c(-.04,.04),main="Slopes of linear fit for each gene of effect vs distance from ATG")
hist(fits$slope,breaks=20,xlim=c(-.03,.03),main="Slopes of linear fit for each gene of effect vs distance from ATG")
