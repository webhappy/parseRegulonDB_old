gross <- read.csv('gross.csv')
View(gross)
summary(gross)
gross$GLUCOSE...UNSPECIFIED
hist(gross$GLUCOSE...UNSPECIFIED)
keio <- read.csv('keio.csv')
summary(keio)
hist(keio$MOPS_24hr)
keio$MOPS_24hr <- as.numeric(keio$MOPS_24hr)
summary(keio)
keio$LB_22hr <- as.numeric(keio$LB_22hr)
summary(keio)
hist(keio$LB_22hr)
keio <- read.csv('keio.csv')
View(keio)
summary(keio)
is.na(keio$MOPS_24hr)
sum(is.na(keio$MOPS_24hr))
sum(keio$MOPS_24hr=='N.A.')
keio$MOPS_24hr[keio$MOPS_24hr=='N.A.']=NA
keio$MOPS_24hr <- as.numeric(keio$MOPS_24hr)
summary(keio)
keio <- read.csv('keio.csv')
keio$MOPS_24hr[keio$MOPS_24hr=='N.A.']=NA
keio$MOPS_24hr <- as.numeric(as.character(keio$MOPS_24hr))
summary(keio)
keio$LB_22hr[keio$LB_22hr=='N.A.']=NA
keio$LB_22hr <- as.numeric(as.character(keio$LB_22hr))
keio$MOPS_24hr[keio$MOPS_24hr=='N.A.']=NA
keio$MOPS_24hr <- as.numeric(as.character(keio$MOPS_24hr))
hist(keio$LB_22hr)
hist(keio$MOPS_24hr)
hist(gross$GLUCOSE...UNSPECIFIED)
hist(keio$LB_22hr)
hist(gross$GLUCOSE...UNSPECIFIED)
View(gross)
grossSubset <- data.frame(gross$ECKID,gross$Gene)
grossSubset <- data.frame(gross$ECKID,gross$Gene,gross$GLUCOSE...UNSPECIFIED,gross$GLYCEROL...UNSPECIFIED)
View(grossSubset)
View(keio)
View(grossSubset)
hist(keio$LB_22hr)
hist(keio$MOPS_24hr)
hist(keio$LB_22hr)
hist(gross$GLUCOSE...UNSPECIFIED)
hist(keio$LB_22hr)
hist(gross$GLUCOSE...UNSPECIFIED)
keioSubset <- data.frame(keio$eckID,keio$LB_22hr,keio$MOPS_24hr)
merged <- merge(grossSubset,keioSubset,by.x='gross.ECKID',by.y='keio.eckID')
merged <- merge(grossSubset,keioSubset,by.x='gross.ECKID',by.y='keio.eckID',all=TRUE)
View(merged)
?cor
cor(merged$gross.GLUCOSE...UNSPECIFIED,merged$gross.GLYCEROL...UNSPECIFIED)
cor(merged$gross.GLUCOSE...UNSPECIFIED,merged$gross.GLYCEROL...UNSPECIFIED,method='spearman')
cor(merged$gross.GLUCOSE...UNSPECIFIED,merged$gross.GLYCEROL...UNSPECIFIED,use='complete.obs',method='spearman')
cor(merged$gross.GLUCOSE...UNSPECIFIED,merged$gross.GLYCEROL...UNSPECIFIED,use='pairwise.complete.obs',method='spearman')
cor(merged$gross.GLUCOSE...UNSPECIFIED,merged$keio.LB_22hr,use='pairwise.complete.obs',method='spearman')
plot(merged$gross.GLUCOSE...UNSPECIFIED,merged$gross.GLYCEROL...UNSPECIFIED)
plot(merged$gross.GLUCOSE...UNSPECIFIED,merged$keio.LB_22hr)
hist(keio$LB_22hr)
hist(gross$GLUCOSE...UNSPECIFIED)
hist(keio$LB_22hr)
hist(gross$GLUCOSE...UNSPECIFIED)
library(RMySQL)
con <- dbConnect(MySql(),dbname='t')
con <- dbConnect(MySQL(),dbname='t')
genes <- dbReadTablecon,'GENE')
genes <- dbReadTable(con,'GENE')
genes$gene_name <- tolower(genes$gene_name)
View(genes)
View(genes)
keio$gene=='alr'
keio[keio$gene=='alr']
keio[keio$gene=='alr',]
merged$gross.Gene <- tolower(merged$gross.Gene)
summary(genes)
merged <- merge(merged,genes,by.x='gross.Gene',by.y='gene_name',all.y=T)
View(merged)
merged <- merge(grossSubset,keioSubset,by.x='gross.ECKID',by.y='keio.eckID',all=TRUE)
View(genes)
mergedWithGenes <- merge(merged,genes,by.x='gross.Gene',by.y='gene_name')
View(mergedWithGenes)
merged <- merged[!is.na(merged$gross.Gene),]
genes <- genes[!is.na(genes$gene_name),]
mergedWithGenes <- merge(merged,genes,by.x='gross.Gene',by.y='gene_name')
View(genes)
View(merged)
merged$gross.Gene <- tolower(merged$gross.Gene)
merged <- merged[!is.na(merged$gross.Gene),]
merged <- merge(grossSubset,keioSubset,by.x='gross.ECKID',by.y='keio.eckID',all=TRUE)
merged$gross.Gene <- tolower(merged$gross.Gene)
head(merged)
View(merged)
merged <- merged[!is.na(merged$gross.Gene),]
genes <- dbReadTable(con,'GENE')
genes$gene_name <- tolower(genes$gene_name)
genes <- genes[!is.na(genes$gene_name),]
mergedWithGenes <- merge(merged,genes,by.x='gross.Gene',by.y='gene_name')
mergedWithGenes <- merge(merged,genes,by.x='gross.Gene',by.y='gene_name',all.y=T)
View(mergedWithGenes)
gross <- read.csv('gross.csv')
grossSubset <- data.frame(gross$ECKID,gross$Gene,gross$GLUCOSE...UNSPECIFIED,gross$GLYCEROL...UNSPECIFIED)
gross <- read.csv('gross.csv')
grossSubset <- data.frame(gross$ECKID,gross$Gene,gross$GLUCOSE...UNSPECIFIED,gross$GLYCEROL...UNSPECIFIED)
keio <- read.csv('keio.csv')
keio$LB_22hr[keio$LB_22hr=='N.A.']=NA
keio$LB_22hr <- as.numeric(as.character(keio$LB_22hr))
keio$MOPS_24hr[keio$MOPS_24hr=='N.A.']=NA
keio$MOPS_24hr <- as.numeric(as.character(keio$MOPS_24hr))
keioSubset <- data.frame(keio$eckID,keio$LB_22hr,keio$MOPS_24hr)
merged <- merge(grossSubset,keioSubset,by.x='gross.ECKID',by.y='keio.eckID',all=TRUE)
merged$gross.Gene <- tolower(merged$gross.Gene)
merged <- merged[!is.na(merged$gross.Gene),]
#plots ----
hist(keio$LB_22hr)
hist(keio$MOPS_24hr)
hist(gross$GLUCOSE...UNSPECIFIED)
library(RMySQL)
#pull in genes data from mySQL
con <- dbConnect(MySQL(),dbname='t')
genes <- dbReadTable(con,'GENE')
genes$gene_name <- tolower(genes$gene_name)
genes <- genes[!is.na(genes$gene_name),]
mergedWithGenes <- merge(merged,genes,by.x='gross.Gene',by.y='gene_name',all.y=T)
View(mergedWithGenes)
summary(mergedWithGenes)
hist(mergedWithGenes$median)
hist(mergedWithGenes$mean)
strongChanges <- mergedWithGenes$mean < -1
length(strongChanges)
sum(strongChanges)
strongChanges <- mergedWithGenes[strongChanges,]
plot(strongChanges$keio.LB_22hr,strongChanges$mean)
plot(strongChanges$gross.GLUCOSE...UNSPECIFIED,strongChanges$mean)
plot(strongChanges$keio.LB_22hr,strongChanges$mean)
plot(strongChanges$keio.LB_22hr,strongChanges$mean)
plot(strongChanges$gross.GLUCOSE...UNSPECIFIED,strongChanges$mean)
plot(strongChanges$keio.LB_22hr,strongChanges$mean)
plot(strongChanges$gross.GLUCOSE...UNSPECIFIED,strongChanges$mean)
plot(strongChanges$keio.LB_22hr,strongChanges$mean)
plot(strongChanges$gross.GLUCOSE...UNSPECIFIED,strongChanges$mean)
View(strongChanges)
plot(strongChanges$keio.LB_22hr,strongChanges$mean,xlab='Gross Glucose score',ylab='Mean of significant sgRNAs')
plot(strongChanges$keio.LB_22hr,strongChanges$mean,xlab='Keio OD in LB @ 22 hrs',ylab='Mean of significant sgRNAs')
plot(strongChanges$gross.GLUCOSE...UNSPECIFIED,strongChanges$mean,xlab='Gross Glucose score',ylab='Mean of significant sgRNAs')
plot(strongChanges$keio.LB_22hr,strongChanges$mean,xlab='Keio OD in LB @ 22 hrs',ylab='Mean of significant sgRNAs')
plot(strongChanges$gross.GLUCOSE...UNSPECIFIED,strongChanges$mean,xlab='Gross Glucose score',ylab='Mean of significant sgRNAs')
plot(strongChanges$keio.LB_22hr,strongChanges$mean,xlab='Keio OD in LB @ 22 hrs',ylab='Mean of significant sgRNAs')
plot(strongChanges$gross.GLUCOSE...UNSPECIFIED,strongChanges$mean,xlab='Gross Glucose score',ylab='Mean of significant sgRNAs')
palsson <- read.csv('palsson_microarray_data_w_info_080826.csv')
View(palsson)
strsplit(palsson$X,split='_')
strsplit(palsson$X,split='_')
strsplit(palsson$X,split="_")
strsplit(palsson$X,split="\_")
strsplit(palsson$X,split="/_")
strsplit(palsson$X,split="_")
?strsplit
strsplit(palsson$X,split="[_]")
strsplit(palsson$X,split="a")
summary(palsson$X)
palsson$X <- as.character(palsson$X)
strsplit(palsson$X,split="a")
strsplit(palsson$X,split="_")
strsplit(palsson$X,split="_")[0]
sapply(strsplit(palsson$X,split="_"),'[[',1)
palsson$X <- sapply(strsplit(palsson$X,split="_"),'[[',1)
View(palsson)
palssonSubset <- data.frame(palsson$X,mean(palsson$ec_aer_wild_O_a_SciA.CEL,palsson$ec_aer_wild_O_b_SciA.CEL,palsson$ec_aer_wild_O_c_SciA.CEL))
means <- mean(palsson$ec_aer_wild_O_a_SciA.CEL,palsson$ec_aer_wild_O_b_SciA.CEL,palsson$ec_aer_wild_O_c_SciA.CEL)
means <- apply(cbind(palsson$ec_aer_wild_O_a_SciA.CEL,palsson$ec_aer_wild_O_b_SciA.CEL,palsson$ec_aer_wild_O_c_SciA.CEL),1,mean)
palssonSubset <- data.frame(palsson$X,means)
palssonAerobicMean <- apply(cbind(palsson$ec_aer_wild_O_a_SciA.CEL,palsson$ec_aer_wild_O_b_SciA.CEL,palsson$ec_aer_wild_O_c_SciA.CEL),1,mean)
palssonSubset <- data.frame(palsson$X,palssonAerobicMean)
View(palssonSubset)
palsson <- read.csv('palsson_microarray_data_w_info_080826.csv')
palsson$X <- as.character(palsson$X)
palsson$X <- sapply(strsplit(palsson$X,split="_"),'[[',1)
palssonAerobicMean <- apply(cbind(palsson$ec_aer_wild_O_a_SciA.CEL,palsson$ec_aer_wild_O_b_SciA.CEL,palsson$ec_aer_wild_O_c_SciA.CEL),1,mean)
palssonSubset <- data.frame(palsson$X,palssonAerobicMean)
palsson$X <- as.character(sapply(strsplit(palsson$X,split="_"),'[[',1))
palssonAerobicMean <- apply(cbind(palsson$ec_aer_wild_O_a_SciA.CEL,palsson$ec_aer_wild_O_b_SciA.CEL,palsson$ec_aer_wild_O_c_SciA.CEL),1,mean)
palssonSubset <- data.frame(palsson$X,palssonAerobicMean)
palssonSubset$X <- tolower(palssonSubset$X)
palssonSubset$X <- tolower(as.character(palssonSubset$X))
palssonSubset <- data.frame(to.lower(palsson$X),palssonAerobicMean)
palssonSubset <- data.frame(tolower(palsson$X),palssonAerobicMean)
merged <- merge(merged, palssonSubset,by.x='gross.Gene',by.y=palssonSubset$tolower.palsson.X.,all=TRUE)
merged <- merge(merged, palssonSubset,by.x='gross.Gene',by.y='palssonSubset$tolower.palsson.X.',all=TRUE)
merged <- merge(merged, palssonSubset,by.x='gross.Gene',by.y='tolower.palsson.X.',all=TRUE)
View(merged)
merged <- merge(grossSubset,keioSubset,by.x='gross.ECKID',by.y='keio.eckID',all=TRUE)
merged$gross.Gene <- tolower(merged$gross.Gene)
merged <- merged[!is.na(merged$gross.Gene),]
merged <- merge(merged, palssonSubset,by.x='gross.Gene',by.y='tolower.palsson.X.',all.x=TRUE)
View(merged)
hist(merged$palssonAerobicMean)
con <- dbConnect(MySQL(),dbname='t')
genes <- dbReadTable(con,'GENE')
genes$gene_name <- tolower(genes$gene_name)
genes <- genes[!is.na(genes$gene_name),]
mergedWithGenes <- merge(merged,genes,by.x='gross.Gene',by.y='gene_name',all.y=T)
strongChanges <- mergedWithGenes$mean < -1
sum(strongChanges)
strongChanges <- mergedWithGenes[strongChanges,]
plot(strongChanges$keio.LB_22hr,strongChanges$mean,xlab='Keio OD in LB @ 22 hrs',ylab='Mean of significant sgRNAs')
plot(strongChanges$gross.GLUCOSE...UNSPECIFIED,strongChanges$mean,xlab='Gross Glucose score',ylab='Mean of significant sgRNAs')
plot(strongChanges$palssonAerobicMean,strongChanges$mean)
palssonAnaerobicMean <- appply(cbind(palsson$ec_aer_wild_nO_a_SciA.CEL,palsson$ec_aer_wild_nO_b_SciA.CEL,palsson$ec_aer_wild_nO_c_SciA.CEL,palsson$ec_aer_wild_nO_d_SciA.CEL),1,mean)
palssonAnaerobicMean <- apply(cbind(palsson$ec_aer_wild_nO_a_SciA.CEL,palsson$ec_aer_wild_nO_b_SciA.CEL,palsson$ec_aer_wild_nO_c_SciA.CEL,palsson$ec_aer_wild_nO_d_SciA.CEL),1,mean)
palssonSubset <- data.frame(tolower(palsson$X),palssonAerobicMean,palssonAnaerobicMean)
plot(palssonAerobicMean,palssonAnaerobicMean)
plot(strongChanges$palssonAnaerobicMean,strongChanges$mean)
plot(strongChanges$palssonAnaerobicMean,strongChanges$mean)
strongChanges <- mergedWithGenes$mean < -1
sum(strongChanges)
strongChanges <- mergedWithGenes[strongChanges,]
plot(strongChanges$palssonAnaerobicMean,strongChanges$mean)
summary(palssonSubset)
merged <- merge(grossSubset,keioSubset,by.x='gross.ECKID',by.y='keio.eckID',all=TRUE)
merged$gross.Gene <- tolower(merged$gross.Gene)
merged <- merged[!is.na(merged$gross.Gene),]
merged <- merge(merged, palssonSubset,by.x='gross.Gene',by.y='tolower.palsson.X.',all.x=TRUE)
con <- dbConnect(MySQL(),dbname='t')
genes <- dbReadTable(con,'GENE')
genes$gene_name <- tolower(genes$gene_name)
genes <- genes[!is.na(genes$gene_name),]
mergedWithGenes <- merge(merged,genes,by.x='gross.Gene',by.y='gene_name',all.y=T)
#look at the data----
strongChanges <- mergedWithGenes$mean < -1
sum(strongChanges)
strongChanges <- mergedWithGenes[strongChanges,]
plot(strongChanges$keio.LB_22hr,strongChanges$mean,xlab='Keio OD in LB @ 22 hrs',ylab='Mean of significant sgRNAs')
plot(strongChanges$gross.GLUCOSE...UNSPECIFIED,strongChanges$mean,xlab='Gross Glucose score',ylab='Mean of significant sgRNAs')
plot(strongChanges$palssonAnaerobicMean,strongChanges$mean)
plot(strongChanges$palssonAnaerobicMean,strongChanges$mean,xlab='Palsson anaerobic mean microarray expression',ylab='Mean of significant sgRNAs')
plot(strongChanges$keio.LB_22hr,strongChanges$mean,xlab='Keio OD in LB @ 22 hrs',ylab='Mean of significant sgRNAs')
plot(strongChanges$gross.GLUCOSE...UNSPECIFIED,strongChanges$mean,xlab='Gross Glucose score',ylab='Mean of significant sgRNAs')
plot(strongChanges$palssonAnaerobicMean,strongChanges$mean,xlab='Palsson anaerobic mean microarray expression',ylab='Mean of significant sgRNAs')
plot(merged$gross.GLUCOSE...UNSPECIFIED,merged$keio.LB_22hr)
PEC <- dbReadTable(con,'PEC')
PEC$gene_name <- tolower(PEC$gene_name)
View(PEC)
View(mergedWithGenes)
mergedWithGenes$isEssential <- mergedWithGenes$gross.Gene %in% PEC$gene_name
summary(mergedWithGenes)
library(ggplot2)
qplot(mergedWithGenes$gross.GLUCOSE...UNSPECIFIED,mergedWithGenes$keio.LB_22hr,aes(color=mergedWithGenes$isEssential))
qplot(mergedWithGenes$gross.GLUCOSE...UNSPECIFIED,mergedWithGenes$keio.LB_22hr,color=mergedWithGenes$isEssential)
qplot(mergedWithGenes$gross.GLUCOSE...UNSPECIFIED,mergedWithGenes$keio.LB_22hr,facets=mergedWithGenes$isEssential)
qplot(mergedWithGenes$gross.GLUCOSE...UNSPECIFIED,mergedWithGenes$keio.LB_22hr,color=mergedWithGenes$isEssential)
qplot(mergedWithGenes$gross.GLUCOSE...UNSPECIFIED,mergedWithGenes$keio.LB_22hr,alpha=0.2,color=mergedWithGenes$isEssential)
qplot(mergedWithGenes$gross.GLUCOSE...UNSPECIFIED,mergedWithGenes$keio.LB_22hr,color=mergedWithGenes$isEssential)
qplot(mergedWithGenes$gross.GLUCOSE...UNSPECIFIED,mergedWithGenes$keio.LB_22hr,color=mergedWithGenes$isEssential,size=mergedWithGenes$isEssential)
qplot(mergedWithGenes$gross.GLUCOSE...UNSPECIFIED,mergedWithGenes$keio.LB_22hr,color=mergedWithGenes$isEssential)
qplot(mergedWithGenes$keio.LB_22hr,color=mergedWithGenes$isEssential)
qplot(mergedWithGenes$keio.LB_22hr,geom='density',color=mergedWithGenes$isEssential)
temp <- mergedWithGenes[mergedWithGenes$isEssential==TRUE ]
temp <- mergedWithGenes[mergedWithGenes$isEssential==TRUE, ]
View(temp)
oddCases <- read.csv('oddCases.csv')
View(oddCases)
oddCases$Gene <- as.character(oddCases$Gene)
summary(oddCases)
oddCases$Seq <- as.character(oddCases$Seq)
View(merged)
gross <- read.csv('gross.csv')
grossSubset <- data.frame(gross$ECKID,gross$Gene,gross$GLUCOSE...UNSPECIFIED,gross$GLYCEROL...UNSPECIFIED)
keio <- read.csv('keio.csv')
keio$LB_22hr[keio$LB_22hr=='N.A.']=NA
keio$LB_22hr <- as.numeric(as.character(keio$LB_22hr))
keio$MOPS_24hr[keio$MOPS_24hr=='N.A.']=NA
keio$MOPS_24hr <- as.numeric(as.character(keio$MOPS_24hr))
keioSubset <- data.frame(keio$eckID,keio$LB_22hr,keio$MOPS_24hr)
palsson <- read.csv('palsson_microarray_data_w_info_080826.csv')
palsson$X <- as.character(palsson$X)
palsson$X <- as.character(sapply(strsplit(palsson$X,split="_"),'[[',1))
palssonAerobicMean <- apply(cbind(palsson$ec_aer_wild_O_a_SciA.CEL,palsson$ec_aer_wild_O_b_SciA.CEL,palsson$ec_aer_wild_O_c_SciA.CEL),1,mean)
palssonAnaerobicMean <- apply(cbind(palsson$ec_aer_wild_nO_a_SciA.CEL,palsson$ec_aer_wild_nO_b_SciA.CEL,palsson$ec_aer_wild_nO_c_SciA.CEL,palsson$ec_aer_wild_nO_d_SciA.CEL),1,mean)
palssonSubset <- data.frame(tolower(palsson$X),palssonAerobicMean,palssonAnaerobicMean)
merged <- merge(grossSubset,keioSubset,by.x='gross.ECKID',by.y='keio.eckID',all=TRUE)
merged$gross.Gene <- tolower(merged$gross.Gene)
merged <- merged[!is.na(merged$gross.Gene),]
merged <- merge(merged, palssonSubset,by.x='gross.Gene',by.y='tolower.palsson.X.',all.x=TRUE)
View(merged)
View(merged)
summary(merged)
finalTable <- merge(oddCases,merged,by.x='Gene',by.y='gross.Gene',all.x=TRUE)
View(finalTable)
View(oddCases)
View(finalTable)
write.csv(finalTable,'oddCases_with_data.csv')
genes <- dbReadTable(con,'GENE')
PEC <- dbReadTable(con,'PEC')
PEC$gene_name <- tolower(PEC$gene_name)
genes$gene_name <- tolower(genes$gene_name)
genes <- genes[!is.na(genes$gene_name),]
mergedWithGenes <- merge(merged,genes,by.x='gross.Gene',by.y='gene_name',all.y=T)
mergedWithGenes$isEssential <- mergedWithGenes$gross.Gene %in% PEC$gene_name
oddCases <- read.csv('oddCases.csv')
oddCases$Gene <- as.character(oddCases$Gene)
oddCases$Seq <- as.character(oddCases$Seq)
finalTable <- merge(oddCases,mergedWithGenes,by.x='Gene',by.y='gross.Gene',all.x=TRUE)
View(finalTable)
write.csv(finalTable,'oddCases_with_data.csv')
oddCases$Gene <- tolower(as.character(oddCases$Gene))
oddCases$Seq <- as.character(oddCases$Seq)
finalTable <- merge(oddCases,mergedWithGenes,by.x='Gene',by.y='gross.Gene',all.x=TRUE)
View(finalTable)
sum(finalTable$isEssential)
sum(finalTable$isEssential,na.rm=TRUE)
write.csv(finalTable,'oddCases_with_data.csv')
